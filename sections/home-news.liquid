{{ 'section-home-news.css' | asset_url | stylesheet_tag }}

<section id="section-{{ section.id }}" class="home-news">
  <div class="container">
    {% if section.settings.blog != blank %}
      <h2>{{ section.settings.section_title }}</h2>
      <div class="blog-list">
        {% assign blog_handle = section.settings.blog %}
        {% assign blog = blogs[blog_handle] %}

        {% if blog.articles.size > 0 %}
          {% for article in blog.articles limit: 6 %}
            <div class="blog-item">
              {% if article.image %}
                <img src="{{ article.image | img_url: 'medium' }}" alt="{{ article.title }}">
              {% endif %}
              <h3>
                <a href="{{ article.url }}">{{ article.title }}</a>
              </h3>
              <p>{{ article.excerpt | strip_html | truncate: 100 }}</p>
              <a href="{{ article.url }}" class="read-more">Read more</a>
            </div>
          {% endfor %}
        {% else %}
          <p>No articles found in this blog.</p>
        {% endif %}
      </div>
    {% else %}
      <p>Please select a blog to display its articles.</p>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "home news",
  "tag": "section",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "blog",
      "id": "blog",
      "label": "Select Blog"
    }
  ],
  "presets": [
    {
      "name": "home news"
    }
  ]
}
{% endschema %}
